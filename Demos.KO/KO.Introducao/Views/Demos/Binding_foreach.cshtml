@{
    ViewBag.Title = "Binding-foreach";
}

<h2>Binding foreach</h2>

<h4>People</h4>
<ul data-bind="foreach: people">
    <li>
        Name at position <span data-bind="text: $index"> </span>:
        <span data-bind="text: name"> </span>
        <a href="#" data-bind="click: $parent.removePerson">Remove</a>
    </li>
</ul>
<button data-bind="click: addPerson">Add</button>


@section scripts{
    <script src="~/Scripts/knockout-3.3.0.js"></script>
    <script>
        function AppViewModel() {
            var self = this;

            self.people = ko.observableArray([
                { name: 'Bert' },
                { name: 'Charles' },
                { name: 'Denise' }
            ]);

            self.addPerson = function () {
                self.people.push({ name: "New at " + new Date() });
            };

            self.removePerson = function () {
                self.people.remove(this);
            }
        }

        ko.applyBindings(new AppViewModel());
    </script>
}